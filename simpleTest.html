<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>tree based DOM diffs</title>
    <style>
      #t1, #t2 {
        border: 1px solid black;
        margin-bottom: 1em;
      }
    </style>
    <script src="require.js"></script>
  </head>
  <body>

    <!--
      Test elements for diffing
    -->

    <div id="t1">
        <div data-non-negative=true class="stylish">a</div>
        <div>b</div>
        <hr>
    </div>

    <div id="t2">
        <hr>
        <div class="stylish" title="testing 1, 2, 3">a</div>
        <div>b</div>
    </div>

    <div id="result"></div>

    <!--
      Test this library
    -->
    <script>
      require(["DOMdiff", "markSubTrees", "applyDiff"], function(DOMdiff, markSubTrees, applicator) {
        var t1 = document.getElementById("t1");
        var t2 = document.getElementById("t2");
        var subtrees = markSubTrees(t1, t2);

        DOMdiff.findDiff(t1,t2)
        var diffs = DOMdiff.diffTracker.diffInformation;
        console.log(diffs);

        var t3 = t1.cloneNode(true);
        applicator.applyDiff(diffs, t3);
        document.body.appendChild(t3);
        console.log(t3);
      });
    </script>
  </body>
</html>
