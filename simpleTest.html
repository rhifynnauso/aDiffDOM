<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>tree based DOM diffs</title>
    <style>
      #t1, #t2 {
        border: 1px solid black;
        margin-bottom: 1em;
      }
    </style>
    <script src="require.js"></script>
  </head>
  <body>

    <!--
      Test elements for diffing
    -->

    <div id="t1">
        <p>test</p>
        <p class="p" style="width:100%;">test2</p>
        <div>
          <ol>
            <li>test</li>
          </ol>
        </div>
    </div>

    <div id="t2">
        <p>test</p>
        <p class="p" data-title="test two">test2</p>
        <div>
          <ol>
            <li>test</li>
            <li>XYZ</li>
          </ol>
        </div>
    </div>

    <div id="result"></div>

    <!--
      Test this library
    -->
    <script>
      require(["DOMdiff", "markSubTrees", "applyDiff"], function(DOMdiff, markSubTrees, applyDiff) {
        var t1 = document.getElementById("t1");
        var t2 = document.getElementById("t2");
        var subtrees = markSubTrees(t1, t2);

        DOMdiff.findDiff(t1,t2)
        var diffs = DOMdiff.diffTracker.diffInformation;
        console.log(diffs);

        var t3 = t1.cloneNode(true);
        applyDiff(diffs, t3);
        document.body.appendChild(t3);
        console.log({t3 : t3});
      });
    </script>
  </body>
</html>
