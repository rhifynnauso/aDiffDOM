<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>tree based DOM diffs</title>
  </head>
  <body>

    <!--
      Test elements for diffing
    -->

    <div id="t1">
      <p>test</p>
      <p>test2</p>
      <b><em>bold emphatic</em></b>
      <hr>
      <ol data-tooltip="magnificent">
        <li>one</li>
        <li>two</li>
        <li>three</li>
        <li><ul>
          <li>yes.</li>
        </ul></li>
      </ol>
    </div>

    <div id="t2">
      <p>test</p>
      <p>test2</p>
      <b><em>bold emphatic</em></b>
      <hr class="serpico">
      <ol>
        <li>one</li>
        <li>two</li>
        <li>three</li>
        <li><ul>
          <li>no.</li>
        </ul></li>
        <li>four</li> <!-- problem -->
      </ol>
    </div>

    <div id="result"></div>

    <script src="domdiff.js"></script>

    <!--
      Test this library
    -->
    <script>
      (function test() {
        // test tree 1 ("old")
        var t1 = document.getElementById("t1");

        // test tree 2 ("new")
        var t2 = document.getElementById("t2");

        var subtrees = markSubTrees(t1, t2);
        document.getElementById("result").innerHTML = "<h2>unchanged subtrees at top level:</h2>";
        subtrees.forEach(function(subtree) {
          document.getElementById("result").innerHTML += subtree.toString() + "<br>";
        });

        console.log(subtrees);

        findDiff(t1,t2);
      }());
    </script>
  </body>
</html>
